{% extends "base.html" %}

{% block title %}Admin Dashboard - DreamSocial{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
  <h1 class="text-3xl font-bold text-gray-800 mb-6">Admin Dashboard</h1>

  <!-- Stats Cards -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
    <div class="bg-white p-6 rounded-lg shadow-md flex items-center justify-between">
      <div>
        <p class="text-gray-500 text-sm">Total Users</p>
        <p class="text-3xl font-bold text-indigo-600">{{ users_count }}</p>
      </div>
      <i class="fas fa-users text-4xl text-indigo-200"></i>
    </div>
    <div class="bg-white p-6 rounded-lg shadow-md flex items-center justify-between">
      <div>
        <p class="text-gray-500 text-sm">Total Profiles</p>
        <p class="text-3xl font-bold text-green-600">{{ profiles_count }}</p>
      </div>
      <i class="fas fa-user-friends text-4xl text-green-200"></i>
    </div>
    <div class="bg-white p-6 rounded-lg shadow-md flex items-center justify-between">
      <div>
        <p class="text-gray-500 text-sm">Total Posts</p>
        <p class="text-3xl font-bold text-blue-600">{{ posts_count }}</p>
      </div>
      <i class="fas fa-newspaper text-4xl text-blue-200"></i>
    </div>
  </div>

  <!-- Chart -->
  <div class="bg-white p-6 rounded-lg shadow-md">
    <h2 class="text-xl font-bold text-gray-700 mb-4">Content Overview</h2>
    <canvas id="overviewChart" width="400" height="200"></canvas>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const ctx = document.getElementById('overviewChart').getContext('2d');
  const overviewChart = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ['Users', 'Profiles', 'Posts'],
      datasets: [{
        label: 'Total Count',
        data: [
          '{{ users_count }}',
          '{{ profiles_count }}',
          '{{ posts_count }}'
        ],
        backgroundColor: [
          'rgba(79, 70, 229, 0.7)',
          'rgba(5, 150, 105, 0.7)',
          'rgba(37, 99, 235, 0.7)'
        ],
        borderColor: [
          'rgba(79, 70, 229, 1)',
          'rgba(5, 150, 105, 1)',
          'rgba(37, 99, 235, 1)'
        ],
        borderWidth: 1
      }]
    },
    options: {
      scales: {
        y: {
          beginAtZero: true
        }
      }
    }
  });
</script>
{% endblock %}
